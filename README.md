# GrowthKit

Ваш стратег и двигатель роста в Telegram. Единый командный центр: глубокая аналитика канала, AI-генерация контента, поиск партнёров и умные уведомления.

## Стек

- **Backend:** Python (FastAPI), PostgreSQL, Redis
- **Frontend:** Next.js 14, TypeScript, Tailwind CSS, Apache ECharts
- **Telegram:** бот (Node.js), Mini App (веб)
- **AI:** OpenAI API (генерация постов)
- **Инфраструктура:** Docker, docker-compose

## Требования

- Node.js 20+, Python 3.11+, Docker
- Переменные: `TELEGRAM_BOT_TOKEN`, `OPENAI_API_KEY` (опционально для AI), `SECRET_KEY` (бэкенд)

## Запуск

1. Клонировать репозиторий и перейти в каталог проекта.

2. Backend:
   ```
   cd backend
   python -m venv .venv
   .venv\Scripts\activate   (Windows) или source .venv/bin/activate (Linux/macOS)
   pip install -r requirements.txt
   cp .env.example .env   (при наличии) и задать DATABASE_URL, SECRET_KEY, TELEGRAM_BOT_TOKEN
   uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
   ```

3. База и кэш (через Docker):
   ```
   docker-compose up -d postgres redis
   ```

4. Frontend:
   ```
   cd frontend
   npm install
   npm run dev
   ```
   В `.env.local` задать `NEXT_PUBLIC_API_URL=http://localhost:8000` при необходимости.

5. Всё разом (backend + frontend + bot + postgres + redis):
   ```
   docker-compose up --build
   ```
   API: http://localhost:8000, веб: http://localhost:3000. Для бота нужен `TELEGRAM_BOT_TOKEN` в окружении.

## MVP (Квартал 1)

- Регистрация по Telegram (виджет / Mini App initData).
- Дашборд с базовой аналитикой своего канала (рост, подписчики; ER — заглушка).
- Ручной поиск каналов (по своим подключённым).
- AI-генератор постов (5 генераций в неделю на тарифе «Создатель»).

## Тарифы (из ТЗ)

| Тариф        | Цена    | Каналы | AI генерации/нед | Остальное              |
|-------------|---------|--------|-------------------|-------------------------|
| Создатель   | 0 ₽     | 1      | 5                 | Базовая аналитика      |
| Стратег     | 890 ₽/мес | 3    | 100               | Полная аналитика, пиар  |
| Агентство   | 3 900 ₽/мес | 10  | без лимита        | Переговорный бот, API   |

## Как это выглядит для пользователя

После размещения проекта на сервере пользователь взаимодействует с GrowthKit так.

### Точка входа

- **Через бота в Telegram.** Находит бота (например, @GrowthKitBot), нажимает Start. Видит приветствие и кнопку «Открыть GrowthKit».
- **Через браузер.** Заходит на ваш домен (например, `https://growthkit.ru`).

В обоих случаях открывается один и тот же веб-интерфейс (в боте — как Mini App внутри Telegram).

### Первый экран (лендинг)

- Название **GrowthKit** и слоган: *«Ваш стратег и двигатель роста в Telegram»*.
- Две кнопки: **«Войти через Telegram»** и **«Дашборд»** (без входа дашборд не откроется — попадёт на экран входа).

### Вход

- Нажимает «Войти через Telegram».
  - Если открыто **из бота (Mini App)** — вход происходит автоматически по данным Telegram (ничего вводить не нужно).
  - Если открыто **в обычном браузере** — без бота войти по-настоящему нельзя; можно показать сообщение: «Откройте бота в Telegram и нажмите „Открыть GrowthKit“ для входа».
- После успешного входа пользователя перенаправляет на **дашборд**.

### Дашборд (главный экран после входа)

- Сверху: логотип **GrowthKit** и текущий **тариф** (например, «Создатель»).
- Блок **«Мои каналы»**: карточки подключённых каналов.
  - На каждой: название/username канала и число подписчиков.
  - Клик по карточке ведёт на страницу аналитики этого канала.
- Если каналов ещё нет — текст вроде «Подключите канал в настройках».
- Кнопка **«Генератор постов»** — переход к AI-генерации постов.

### Аналитика канала (страница канала)

- Кнопка «← Дашборд» и заголовок вроде **«Аналитика канала #1»**.
- Три блока с цифрами: **Подписчиков**, **Рост за 7 дней**, **ER (оценка)**.
- Ниже — **график** (сейчас условный: «неделя назад» и «сейчас» по подписчикам).

### Генератор постов

- Заголовок **«AI-генератор постов»** и кнопка «← Дашборд».
- Поле **«Тема поста»** (обязательное) и **«Стиль»** (необязательно).
- Кнопка **«Сгенерировать»**. После нажатия под полями появляется готовый текст поста (если настроен OpenAI — реальный, иначе заглушка).
- На бесплатном тарифе после 5 генераций в неделю кнопка перестаёт давать новый пост до сброса лимита.

### Оформление

- Тёмная тема: тёмный фон, светлый текст, акцентный цвет (голубой/бирюзовый в духе Telegram).
- Карточки каналов и блоки статистики — в виде карточек с рамкой.
- Один и тот же интерфейс в браузере и внутри Telegram (Mini App).

**Итог:** пользователь заходит в бота или на сайт, входит через Telegram (в боте — одним нажатием), видит дашборд со своими каналами и тарифом, может открыть любой канал и посмотреть базовую аналитику с графиком и сгенерировать пост по теме — всё в одном веб-сервисе без установки.

## Структура репозитория

- `backend/` — FastAPI: auth, analytics, content, channels API
- `frontend/` — Next.js: лендинг, вход, дашборд, аналитика канала, генератор постов
- `telegram-bot/` — бот для входа и открытия Mini App
- `docker-compose.yml` — сборка и запуск всех сервисов

Дальнейшие этапы: глубокая аналитика (HeatMap, психографика), конкурентная разведка, нейрокомментинг, AI Скаут, переговорный бот — по roadmap из ТЗ.
